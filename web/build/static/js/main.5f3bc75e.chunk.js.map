{"version":3,"sources":["components/Navigation.js","pages/Home.js","components/CamTool.js","pages/Cameras.js","pages/Rooms.js","pages/NotFound.js","App.js","index.js"],"names":["Navigation","Paper","className","MenuList","exact","to","MenuItem","Videocam","Toc","Home","Rectangle","shapeProps","isSelected","onSelect","onChange","canvasSize","editMode","shapeRef","React","useRef","trRef","useEffect","current","nodes","getLayer","batchDraw","Fragment","onClick","onTap","ref","draggable","stroke","onDragEnd","e","x","target","y","dragBoundFunc","pos","newX","newY","width","height","onTransformEnd","node","scaleX","scaleY","Math","max","borderStroke","rotateEnabled","boundBoxFunc","oldBox","newBox","CamTool","state","rectangles","props","initialRectangles","selectedId","countNewRectangles","checkDeselect","getStage","setState","addRectangle","push","strokeWidth","id","forceUpdate","deleteRectangle","i","length","splice","this","onMouseDown","onTouchStart","map","rect","newAttrs","rects","slice","Component","Cameras","imgHeight","imgWidth","imgNaturalHeight","imgNaturalWidth","camToolNode","createRef","img","document","querySelector","naturalHeight","naturalWidth","areas","room_id","position_x","round","position_y","axios","post","forbiddenAreas","area","src","alt","onLoad","handleImageLoaded","bind","Button","variant","color","startIcon","AddBox","size","Delete","handleSave","Save","Edit","Rooms","rooms","style","rows","columns","field","headerName","pageSize","loading","NotFound","App","useState","setRooms","setForbiddenAreas","a","response","data","fetchData","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5f3bc75e.chunk.js","sourcesContent":["import { MenuItem, MenuList, Paper } from '@material-ui/core';\r\nimport { Videocam, Home, Toc } from '@material-ui/icons';\r\nimport React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <Paper className={\"Navigation\"}>\r\n      <MenuList>\r\n        <NavLink exact to=\"/\">\r\n          <MenuItem>\r\n            <Home />\r\n            Accueil\r\n          </MenuItem>\r\n        </NavLink>\r\n        <NavLink exact to=\"cameras\">\r\n          <MenuItem>\r\n            <Videocam />\r\n            Caméras\r\n          </MenuItem>\r\n        </NavLink>\r\n        <NavLink exact to=\"rooms\">\r\n          <MenuItem>\r\n            <Toc />\r\n            Pièces\r\n          </MenuItem>\r\n        </NavLink>\r\n      </MenuList>\r\n    </Paper>\r\n  );\r\n}\r\n  \r\nexport default Navigation;","import React from 'react';\r\nimport Navigation from '../components/Navigation';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <>\r\n      <Navigation />\r\n      <div className=\"Content\">\r\n        <h1>Accueil</h1>\r\n        <p>Documentation/Manuel utilisateur</p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n  \r\nexport default Home;\r\n  ","import React from 'react';\r\nimport { Stage, Rect, Layer, Transformer } from 'react-konva';\r\n\r\nconst Rectangle = ({ shapeProps, isSelected, onSelect, onChange, canvasSize, editMode }) => {\r\n  const shapeRef = React.useRef();\r\n  const trRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    if (isSelected && editMode) {\r\n      // we need to attach transformer manually\r\n      trRef.current.nodes([shapeRef.current]);\r\n      trRef.current.getLayer().batchDraw();\r\n    }\r\n  }, [isSelected, editMode]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Rect\r\n        onClick={onSelect}\r\n        onTap={onSelect}\r\n        ref={shapeRef}\r\n        {...shapeProps}\r\n        draggable={editMode}\r\n        stroke={editMode ? '#0f0' : '#f00'}\r\n        onDragEnd={(e) => {\r\n          onChange({\r\n            ...shapeProps,\r\n            x: e.target.x(),\r\n            y: e.target.y(),\r\n          });\r\n        }}\r\n        dragBoundFunc={(pos) => {\r\n          let newX = pos.x;\r\n          let newY = pos.y;\r\n          if (pos.x < 0) {\r\n            newX = 1;\r\n          } else if (pos.x + shapeProps.width > canvasSize.width) {\r\n            newX = canvasSize.width - shapeProps.width - 1;\r\n          }\r\n          if (pos.y < 0) {\r\n            newY = 1;\r\n          } else if (pos.y + shapeProps.height > canvasSize.height) {\r\n            newY = canvasSize.height - shapeProps.height - 1;\r\n          }\r\n          return {\r\n            x: newX,\r\n            y: newY,\r\n          }\r\n        }}\r\n        onTransformEnd={(e) => {\r\n          // transformer is changing scale of the node\r\n          // and NOT its width or height\r\n          // but in the store we have only width and height\r\n          // to match the data better we will reset scale on transform end\r\n          const node = shapeRef.current;\r\n          const scaleX = node.scaleX();\r\n          const scaleY = node.scaleY();\r\n\r\n          // we will reset it back\r\n          node.scaleX(1);\r\n          node.scaleY(1);\r\n          onChange({\r\n            ...shapeProps,\r\n            x: node.x(),\r\n            y: node.y(),\r\n            // set minimal value\r\n            width: Math.max(5, node.width() * scaleX),\r\n            height: Math.max(node.height() * scaleY),\r\n          });\r\n        }}\r\n      />\r\n      {isSelected && editMode && (\r\n        <Transformer\r\n          ref={trRef}\r\n          borderStroke={'green'}\r\n          rotateEnabled={false}\r\n          boundBoxFunc={(oldBox, newBox) => {\r\n            // limit resize\r\n            if (newBox.width < 50\r\n              || newBox.height < 50\r\n              || newBox.x < -1\r\n              || newBox.y < -1\r\n              || newBox.x + newBox.width > canvasSize.width + 1\r\n              || newBox.y + newBox.height > canvasSize.height + 1) {\r\n              return oldBox;\r\n            }\r\n            return newBox;\r\n          }}\r\n        />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nclass CamTool extends React.Component {\r\n  state = {\r\n    rectangles: this.props.initialRectangles,\r\n    selectedId: null,\r\n    countNewRectangles: 0\r\n  };\r\n\r\n  checkDeselect = (e) => {\r\n    // deselect when clicked on empty area\r\n    const clickedOnEmpty = e.target === e.target.getStage();\r\n    if (clickedOnEmpty) {\r\n      this.setState({\r\n        selectedId: null\r\n      });\r\n    }\r\n  };\r\n  \r\n  addRectangle = () => {\r\n    this.state.rectangles.push({\r\n      x: 50,\r\n      y: 50,\r\n      width: 100,\r\n      height: 100,\r\n      stroke: '#f00',\r\n      strokeWidth: 4,\r\n      id: \"new\" + (this.state.countNewRectangles + 1),\r\n      draggable: this.props.editMode\r\n    });\r\n    this.setState({\r\n      countNewRectangles: this.state.countNewRectangles + 1,\r\n      selectedId: \"new\" + (this.state.countNewRectangles + 1)\r\n    });\r\n    this.forceUpdate();\r\n  };\r\n\r\n  deleteRectangle = () => {\r\n    for (let i = 0; i < this.state.rectangles.length; i++) {\r\n      if (this.state.rectangles[i].id === this.state.selectedId) {\r\n        this.state.rectangles.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    this.forceUpdate();\r\n  }\r\n\r\n  render () {\r\n    const { width, height, editMode } = this.props;\r\n    return (\r\n      <>\r\n        <Stage\r\n          width={width}\r\n          height={height}\r\n          onMouseDown={this.checkDeselect}\r\n          onTouchStart={this.checkDeselect}\r\n        >\r\n          <Layer>\r\n            {this.state.rectangles.map((rect, i) => {\r\n              return (\r\n                <Rectangle\r\n                  key={i}\r\n                  shapeProps={rect}\r\n                  isSelected={rect.id === this.state.selectedId}\r\n                  onSelect={() => {\r\n                    this.setState({\r\n                      selectedId: rect.id\r\n                    });\r\n                  }}\r\n                  onChange={(newAttrs) => {\r\n                    const rects = this.state.rectangles.slice();\r\n                    rects[i] = newAttrs;\r\n                    this.setState({\r\n                      rectangles: rects\r\n                    });\r\n                  }}\r\n                  canvasSize={{\r\n                    width: width,\r\n                    height: height\r\n                  }}\r\n                  editMode={editMode}\r\n                />\r\n              );\r\n            })}\r\n          </Layer>\r\n        </Stage>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CamTool;\r\n","import React from 'react';\r\nimport Navigation from '../components/Navigation';\r\nimport CamTool from '../components/CamTool';\r\nimport { Button } from '@material-ui/core';\r\nimport { Edit, Save, AddBox, Delete } from '@material-ui/icons';\r\nimport axios from 'axios';\r\n\r\nclass Cameras extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.camToolNode = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    imgHeight: 1,\r\n    imgWidth: 1,\r\n    imgNaturalHeight: 1,\r\n    imgNaturalWidth: 1,\r\n    editMode: false,\r\n  };\r\n\r\n  handleImageLoaded() {\r\n    const img = document.querySelector(\"div>img\");\r\n    this.setState({\r\n      imgHeight: img.height,\r\n      imgWidth: img.width,\r\n      imgNaturalHeight: img.naturalHeight,\r\n      imgNaturalWidth: img.naturalWidth,\r\n    });\r\n  }\r\n\r\n  handleSave() {\r\n    const areas = this.camToolNode.current.state.rectangles.map((rect) => {\r\n      return {\r\n        room_id: 1,\r\n        position_x: Math.round(rect.x),\r\n        position_y: Math.round(rect.y),\r\n        width: Math.round(rect.width),\r\n        height: Math.round(rect.height),\r\n        id: rect.id\r\n      }\r\n    });\r\n    axios.post('http://localhost:4000/forbidden_areas', areas)\r\n  }\r\n\r\n  render() {\r\n    const initialRectangles = this.props.forbiddenAreas.map((area) => {\r\n      return {\r\n        id: area.id,\r\n        x: area.position_x * this.state.imgWidth / this.state.imgNaturalWidth,\r\n        y: area.position_y * this.state.imgHeight / this.state.imgNaturalHeight,\r\n        width: area.width * this.state.imgWidth / this.state.imgNaturalWidth,\r\n        height: area.height * this.state.imgHeight / this.state.imgNaturalHeight,\r\n        stroke: '#f00',\r\n        strokeWidth: 4,\r\n        draggable: this.state.editMode\r\n      }\r\n    });\r\n\r\n    return (\r\n      <>\r\n        <Navigation />\r\n        <div className=\"Content\">\r\n          <h1>Caméras</h1>\r\n          <div className=\"camTool\">\r\n            <img src=\"http://81.83.10.9:8001/mjpg/video.mjpg\" alt=\"caméra doguito\" onLoad={this.handleImageLoaded.bind(this)} />\r\n            <CamTool\r\n              width={this.state.imgWidth}\r\n              height={this.state.imgHeight}\r\n              editMode={this.state.editMode}\r\n              initialRectangles={initialRectangles}\r\n              ref={this.camToolNode}\r\n            />\r\n            <div className=\"buttons\">\r\n              <div>\r\n                {this.state.editMode && (\r\n                  <>\r\n                    <Button\r\n                      variant={\"contained\"}\r\n                      color={\"inherit\"}\r\n                      onClick={() => {\r\n                        this.camToolNode.current.addRectangle()\r\n                      }}\r\n                      startIcon={<AddBox />}\r\n                      size={\"large\"}\r\n                    >\r\n                      Ajouter une zone\r\n                    </Button>\r\n                    <Button\r\n                      variant={\"contained\"}\r\n                      color={\"secondary\"}\r\n                      onClick={() => {\r\n                        this.camToolNode.current.deleteRectangle()\r\n                      }}\r\n                      startIcon={<Delete />}\r\n                      size={\"large\"}\r\n                    >\r\n                      Supprimer une zone\r\n                    </Button>\r\n                  </>\r\n                )}\r\n              </div>\r\n              <Button\r\n                variant={\"contained\"}\r\n                color={this.state.editMode ? \"primary\" : \"default\"}\r\n                onClick={() => {\r\n                  this.setState({\r\n                    editMode: !this.state.editMode\r\n                  });\r\n                  this.state.editMode && this.handleSave();\r\n                }}\r\n                startIcon={this.state.editMode ? <Save /> : <Edit />}\r\n                size={\"large\"}\r\n              >\r\n                {this.state.editMode ? \"Enregistrer\" : \"Éditer\"}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Cameras;\r\n","import React from 'react';\r\nimport Navigation from '../components/Navigation';\r\nimport { DataGrid } from '@material-ui/data-grid';\r\n\r\nconst Rooms = (props) => {\r\n  const { rooms } = props;\r\n\r\n  const columns = [\r\n    { field: 'id', headerName: 'ID', width: 100 },\r\n    { field: 'name', headerName: 'Nom', width: 130 },\r\n    { field: 'camera', headerName: 'Caméra IP', width: 130 },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Navigation />\r\n      <div className=\"Content\">\r\n        <h1>Pièces</h1>\r\n        <div style={{ height: 400, width: '100%' }}>\r\n          <DataGrid rows={rooms} columns={columns} pageSize={10} loading={rooms.length === 0} />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Rooms;\r\n","import React from 'react';\r\nimport Navigation from '../components/Navigation';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <>\r\n      <Navigation />\r\n      <div className=\"Content\">\r\n      <h1>Page inconnue</h1>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n    \r\nexport default NotFound;\r\n    ","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport Home from \"./pages/Home\";\r\nimport Cameras from './pages/Cameras';\r\nimport Rooms from './pages/Rooms';\r\nimport NotFound from './pages/NotFound';\r\n\r\nconst App = () => {\r\n  const [rooms, setRooms] = useState([]);\r\n  const [forbiddenAreas, setForbiddenAreas] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      let response;\r\n      response = await axios('http://localhost:4000/rooms');\r\n      setRooms(response.data);\r\n      response = await axios('http://localhost:4000/forbidden_areas');\r\n      setForbiddenAreas(response.data);\r\n    }\r\n    fetchData();\r\n  }, []);\r\n  \r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/cameras\" exact component={() => <Cameras forbiddenAreas={forbiddenAreas} />} />\r\n        <Route path=\"/rooms\" exact component={() => <Rooms rooms={rooms} />} />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport \"./styles/index.scss\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}